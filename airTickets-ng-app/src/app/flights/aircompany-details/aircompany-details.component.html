<div *ngIf="aircompany !== []" class="row mt-4 mb-4">
  <div class="col-6 text-center">
      <img src="../../../assets/img/aircompany/{{aircompany.image}}.png" class="card-img-top company-logo" alt="Logo of {{aircompany.name}}">
  </div>
  <div class="col-6 align-self-center">
      <h1>{{aircompany.name}}</h1>
      <p>
        <ngb-rating [rate]="airCompanyRating" [starTemplate]="t" [readonly]="true" [max]="5"></ngb-rating>
        <i class="fas fa-map-marker-alt ml-2"></i> {{aircompany.address}}</p>
      <p class="text-secondary">{{aircompany.description}}</p>
  </div>
</div>
<div class="row mt-4 mb-4">

  <div class="col-sm-12">
    <!-- <form [formGroup]="hotelRoomForm" (ngSubmit)="onSubmit()">
    <div class="row">
        <div class="col">
          <div class="form-group">
              <label for="placeFromId">Date<span class="text-danger">*</span></label>
              <input class="form-control" placeholder="Pick Date Range"
                      [selectMode]="'range'"
                      [owlDateTimeTrigger]="dtRange1" [owlDateTime]="dtRange1"
                      formControlName="datePeriod">

              <owl-date-time [pickerType]="'calendar'" #dtRange1></owl-date-time>
            </div>
        </div>

        <div class="col">
          <div class="form-group">
              <label for="guest">Number of Quests<span class="text-danger">*</span></label>
              <input type="text" formControlName="guest" class="form-control" placeholder="Enter Name">
              <small *ngIf="hotelRoomForm.controls.guest.errors?.required && hotelRoomForm.controls.guest.touched" class="form-text text-danger">*Required</small>
          </div>
        </div>
      </div>
        <div class="row">
          <div class="col">
              <div class="form-group">
                  <label for="numberOfrooms1">Number Of Single Rooms</label>
                  <ng-select [items]="numberOfrooms" formControlName="numberOfrooms1">
                  </ng-select>
              </div>
          </div>
          <div class="col">
              <div class="form-group">
                  <label for="numberOfrooms2">Number Of Double Rooms</label>
                  <ng-select [items]="numberOfrooms" formControlName="numberOfrooms2">
                  </ng-select>
              </div>
          </div>
          <div class="col">
              <div class="form-group">
                  <label for="numberOfrooms3">Number Of Twin Rooms</label>
                  <ng-select [items]="numberOfrooms" formControlName="numberOfrooms3">
                  </ng-select>
              </div>
          </div>
          <div class="col">
              <div class="form-group">
                  <label for="numberOfrooms4">Number Of Quad Rooms</label>
                  <ng-select [items]="numberOfrooms" formControlName="numberOfrooms4">
                  </ng-select>
              </div>
          </div>
        </div>
      <div class="row">
        <div class="col">
                <button [disabled]="!hotelRoomForm.valid" type="submit" class="btn btn-primary mt-4">Find room</button>
            </div>
        </div>
  </form> -->

  </div>
</div>

<!-- <div *ngIf="rooms.length > 0" class="row mt-4 mb-4 searchResults">
    <div class="col-9">
      <h4 class="mt-4"> Search Results: </h4>
      <div class="row">
        <div *ngFor="let room of rooms" class="col-sm-3">
          <div class="card cursor-pointer" (click)="onSelectRoom(room)" [ngClass]="isRoomSelected(room) ? 'selectedRoom' : ''">
            <img src="../../../assets/img/room/{{room.image}}.jpg" class="card-img-top">
            <div class="card-body text-center">
              <h5 class="card-title">No. {{room.number}}</h5>
              <ngb-rating class="mt-2" [rate]="1.5" [starTemplate]="t" [readonly]="true" [max]="5"></ngb-rating>
              <p class="reservationDate mt-2">{{room.type}}</p>
              <div class="row">
                <div class="col-md-6">
                  <p class="card-text"><i class="far fa-building mr-2"></i>{{room.floor}}</p>
                </div>
                <div class="col-md-6">
                  <p class="card-text"><i class="fas fa-bed mr-2"></i>{{room.noOfBeds}}</p>
                </div>
              </div>
              <h6 class="oldPrice"><span class="badge badge-light">{{room.pricePerDay}}€/day</span></h6>
              <h5 class="loweredPrice"><span class="badge badge-primary">{{room.price}}€</span></h5>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col">
          <h4 class="mt-4 mb-2"> Amenities</h4>
          <ng-select
              [items]="amenities"
              [multiple]="true"
              bindLabel="name"
              bindValue="id"
              [(ngModel)]="selectedAmenities"
              [hideSelected]="true"
              [closeOnSelect]="false"
              [searchable]="false"
              (add)="onAddAmenity($event)"
              (remove)="onRemoveAmenity($event)"
              (clear)="onClearAmenities()"
              placeholder="Select amenities">

              <ng-template ng-label-tmp let-item="item" let-clear="clear">
                  <span class="badge badge-primary mx-1 my-1">{{item.price}}€</span>
                  {{item.title}}
                  <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
              </ng-template>

              <ng-template ng-option-tmp let-item="item">
                  <span class="badge badge-primary mx-1 my-1">{{item.price}}€</span>
                  {{item.title}}
              </ng-template>
          </ng-select>
        </div>
      </div>
    </div>
    <div class="col-3">
      <div *ngIf="selectedRoomsObj.length > 0 || selectedAmenitiesObj.length > 0" class="row mt-4 mx-1 px-4 py-4 bg-white">
        <div class="col">
          <h3 class="mb-4">Hotel Reservation</h3>
          <table class="table">
            <tbody>
              <tr *ngIf="selectedRoomsObj.length > 0">
                <td class="align-middle"><span class="text-uppercase font-weight-bold">Rooms</span></td>
                <td class="align-middle"></td>
              </tr>
              <tr *ngFor="let selectedRoom of selectedRoomsObj">
                <td class="align-middle">No. {{selectedRoom.number}}</td>
                <td class="align-middle text-right">{{selectedRoom.price}}€</td>
              </tr>
              <tr *ngIf="selectedAmenitiesObj.length > 0">
                <td class="align-middle"><span class="text-uppercase font-weight-bold">Amenities</span></td>
                <td class="align-middle"></td>
              </tr>
              <tr *ngFor="let amenity of selectedAmenitiesObj">
                <td class="align-middle">{{amenity.title}}</td>
                <td class="align-middle text-right">{{amenity.price}}€</td>
              </tr>
              <tr class="bt-b">
                <td class="align-middle font-weight-bold">TOTAL</td>
                <td class="align-middle text-right"><b>{{amenitySum + roomsSum}}€</b></td>
              </tr>
            </tbody>
          </table>
          <button class="btn btn-success btn-block mt-4" type="button" (click)="makeReservation()" [disabled]="(selectedRoomsObj.length === 0)">Make Reservation</button>
        </div>
      </div>
    </div>
</div> -->
<ng-container>
  <h4 class="mt-4"> Quick Reservations: </h4>
  <div class="row">
    <div class="col-9">
      <div class="row">
          <div *ngFor="let quickReservation of quickReservations" class="col-sm-3 rentacar">
            <div class="card cursor-pointer mb-4" (click)="onSelectQuickReservation(quickReservation)" [ngClass]="(selectedQuickReservation['id'] === quickReservation.id) ? 'selectedQuickReservation' : ''">
              <div class="card-body text-center">
                <h6 class="card-title">{{quickReservation.placeFrom}} <i class="fas fa-plane px-2 svg-plane"></i> {{quickReservation.placeTo}}</h6>
                <div class="row">
                  <div class="col">
                    <p class="reservationDate">{{quickReservation.timeBegin | date:'medium'}}</p>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <p class="reservationDate"><i class="fas fa-plane-departure px-2 svg-plane pr-2"></i>{{quickReservation.airplaneType}}</p>
                  </div>
                </div>
                <div class="row">
                  <div class="col">
                    <h6>{{quickReservation.mark}}</h6>
                  </div>
                  <div class="col">
                      <h6><del class="reservationDate">{{quickReservation.originalPrice}}€</del><span class="badge badge-pill badge-success ml-2">{{quickReservation.loweredPrice}}€</span></h6>
                    </div>
                </div>
                <!-- <button class="btn btn-primary mt-4" type="button" (click)="isQuickSelected = !isQuickSelected">Reserve</button> -->
              </div>
            </div>
          </div>
        </div>
    </div>
    <div class="col-3">
      <div [ngbCollapse]="!isQuickSelected">
        <div class="card">
          <div class="card-body">
            <form class="col"  [formGroup]="passengerForm" (ngSubmit)="onSubmit()">
              <div class="row mt-2">
                <div class="col">
                  <h5>Quick Reservation</h5>
                  <p class="reservationDate">Enter passenger details</p>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col">
                    <p>{{selectedQuickReservation.placeFrom}} <i class="fas fa-plane px-2 svg-plane"></i> {{selectedQuickReservation.placeTo}}</p>
                    <p>{{selectedQuickReservation.timeBegin | date:'medium'}}</p>
                    <p>SEAT: <span class="badge badge-pill badge-success">{{selectedQuickReservation.mark}}</span></p>
                  </div>
              </div>
              <div class="row mt-2">
                <div class="col">
                    <div class="form-group mb-4">
                        <input class="form-control mb-2" formControlName="firstName" placeholder="First Name">
                        <input class="form-control mb-2" formControlName="lastName" placeholder="Last Name">
                        <input class="form-control mb-2" formControlName="passport" placeholder="Passport Number">
                        <input class="form-control mb-2" formControlName="contact" placeholder="Phone Number">
                    </div>
                </div>
              </div>
              <div class="row my-2">
                <div class="col">
                    <h6>PRICE: {{selectedQuickReservation.loweredPrice}}€</h6>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <button [disabled]="!passengerForm.valid" class="btn btn-success btn-block">Make Reservation</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #t let-fill="fill">
    <span class="star" [class.full]="fill === 100">
      <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
    </span>
</ng-template>
